[package]
name = "vm-perf-regression-detector"
version = "0.1.0"
edition = "2024"
authors = ["VM Development Team"]
license = "MIT OR Apache-2.0"
description = "Performance regression detection system for the VM project"

[dependencies]
vm-core = { path = "../vm-core" }
vm-cross-arch = { path = "../vm-cross-arch", features = ["all"] }
vm-engine-jit = { path = "../vm-engine-jit" }

serde = { workspace = true }
serde_json = { workspace = true }
# vm-perf-regression-detector uses: macros (tokio::main), rt-multi-thread (for async main), time (for sleep)
tokio = { workspace = true, features = ["macros", "rt-multi-thread", "time"] }
anyhow = { workspace = true }
thiserror = { workspace = true }
clap = { version = "4.0", features = ["derive"] }
chrono = { workspace = true }
rusqlite = { version = "0.28", features = ["chrono"] }
plotters = "0.3"
statrs = "0.16"
num_cpus = { workspace = true }
tempfile = "3.0"

[[bin]]
name = "vm-perf-regression-detector"
path = "src/bin/vm-perf-regression-detector.rs"