[workspace]
members = [
 "vm-common",
 "vm-codegen",
 "vm-core",
 "vm-interface",
 "vm-ir",
 "vm-mem",
 "vm-frontend-arm64",
 "vm-frontend-x86_64",
 "vm-frontend-riscv64",
 "vm-engine-interpreter",
 "vm-engine-jit",
 "vm-accel",
 "vm-device",
 "vm-simd",
 "vm-osal",
 "vm-passthrough",
 "vm-boot",
 "vm-cli",
 "vm-service",
 "vm-monitor",
 "vm-adaptive",       
 "vm-gpu",         
 "vm-debug",
 "vm-runtime",
 "vm-plugin",
 "vm-cross-arch",
  "vm-encoding",
  "vm-register",
  "vm-memory-access",
  "vm-instruction-patterns",
  "vm-optimization",
  "vm-error",
  "vm-validation",
  "vm-resource",
  "vm-cross-arch-integration-tests",
 "vm-stress-test-runner",
 "vm-perf-regression-detector",
 "async-executor",
 "coroutine-scheduler",
 "perf-bench",
 "tiered-compiler",
 "parallel-jit",
 "gc-optimizer",
 "memory-optimizer",
 
 "ml-guided-compiler",
 "pgo-optimizer",
 "security-sandbox",
 "syscall-compat",
 "distributed-executor",
 "vm-desktop",
]
resolver = "2"

[workspace.metadata.docs]
all-features = true
rustdoc-args = ["--cfg", "docsrs"]

[workspace.package]
version = "0.1.0"
edition = "2024"
authors = ["VM Development Team"]
license = "MIT OR Apache-2.0"
repository = "https://github.com/example/vm"
documentation = "https://docs.rs/vm"
readme = "README.md"
keywords = ["virtual-machine", "emulator", "risc-v", "arm64", "jit"]
categories = ["emulators", "virtualization"]

[profile.dev]
opt-level = 0
debug = true
debug-assertions = true
overflow-checks = true
lto = false
incremental = true
codegen-units = 256
panic = "unwind"

[profile.test]
inherits = "dev"
opt-level = 1
debug = true
debug-assertions = true
overflow-checks = true
lto = false
incremental = true
codegen-units = 256
panic = "unwind"

[profile.bench]
opt-level = 3
debug = false
debug-assertions = false
overflow-checks = false
lto = "thin"
incremental = false
codegen-units = 1
panic = "unwind"

[profile.release]
opt-level = 3
debug = false
debug-assertions = false
overflow-checks = false
lto = "thin"
incremental = false
codegen-units = 1
panic = "unwind"
