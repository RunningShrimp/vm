---
name: 📚 文档改进
about: 报告文档问题或建议文档改进
title: '[DOCS] '
labels: documentation
assignees: ''

---

## 📋 文档问题类型

请选择适用的问题类型（可多选）：

### 内容问题
- [ ] ❌ **错误或过时信息**（文档与实际代码不符）
- [ ] 🔍 **缺失的文档**（功能或API缺少文档）
- [ ] ❓ **不清晰的描述**（难以理解或存在歧义）
- [ ] 💡 **缺少示例**（需要代码示例或使用案例）
- [ ] 🏗️ **缺少架构说明**（需要架构图或设计说明）

### 格式问题
- [ ] 📐 **格式或结构问题**（markdown格式、目录结构等）
- [ ] ✏️ **拼写或语法错误**
- [ ] 🔗 **链接损坏**（dead links）

### 语言问题
- [ ] 🌐 **缺少翻译**（需要其他语言版本）
- [ ] 🔄 **翻译问题**（翻译不准确或不自然）

### 其他
- [ ] 📝 **其他问题**（请在下方说明）

---

## 📍 文档位置

**清晰标识问题所在的文档位置**：

### 具体位置
- **文件路径**：`docs/example.md` 或 `vm-core/src/lib.rs`
- **章节或章节**：第X章/第Y节
- **具体行号**：第Y行（如适用）
- **URL**：https://...（如果是在线文档）

### 文档类型
- [ ] 📖 **用户文档**（README、指南、教程）
- [ ] 🔧 **API文档**（rustdoc注释）
- [ ] 🏗️ **架构文档**（设计说明、架构图）
- [ ] 🧪 **测试文档**（测试说明）
- [ ] 📝 **开发文档**（贡献指南、代码规范）
- [ ] 🚀 **部署文档**（安装、配置）

---

## 🔴 问题描述

**清晰详细地描述您发现的文档问题**

### 问题描述

<!--
请详细描述：
- 遇到什么问题？
- 期望看到什么？
- 实际看到了什么？
-->

**示例**：
```
问题：在vm-core模块的MMU文档中，地址转换函数的参数说明与实际代码不符。

文档位置：vm-core/src/lib.rs:100-120

文档说明：
- addr: 虚拟地址（GuestAddr）
- len: 访问长度（字节数）

实际代码：
- addr: 物理地址（GuestPhysAddr）
- len: 页面对齐的长度

影响：开发者根据文档编写代码时会出现类型错误。
```

### 复现步骤

<!--
如果问题涉及文档的使用流程，请提供复现步骤：
-->

1. 访问文档：__________
2. 按照文档操作：__________
3. 遇到问题：__________

### 预期行为

<!-- 描述期望文档应该如何 -->

**示例**：
```
文档应该准确描述translate函数的参数类型：
- addr: GuestPhysAddr（已转换的物理地址）
- len: usize（访问长度）
返回: Result<(GuestAddr, usize), VmError>
```

---

## ✨ 建议的改进

**如果您有改进建议，请详细说明**

### 1. 内容建议

**应该添加/修改什么内容**：
<!--
描述具体需要添加、修改或删除的内容
-->

**示例**：
```markdown
## 地址转换

### 函数签名
```rust
pub fn translate(
    &mut self,
    addr: GuestPhysAddr,
    len: usize
) -> Result<(GuestAddr, usize), VmError>
```

### 参数说明
- `addr`: 已转换的物理地址（GuestPhysAddr）
- `len`: 访问长度（字节数）

### 返回值
- `Ok((virt_addr, actual_len))`: 转换成功
- `Err(VmError)`: 转换失败

### 示例
```rust
use vm_core::{GuestPhysAddr, GuestAddr};

let phys_addr = GuestPhysAddr(0x1000);
match mmu.translate(phys_addr, 4096) {
    Ok((virt_addr, len)) => {
        println!("翻译成功: {:?}, 长度: {}", virt_addr, len);
    }
    Err(e) => {
        eprintln!("翻译失败: {:?}", e);
    }
}
```
```

### 2. 位置建议

**应该放在哪里**：
<!--
说明新内容的位置或现有内容的修改位置
-->

**示例**：
- 在"MMU使用"章节之后添加"高级配置"小节
- 在API文档中添加参数表格
- 在README中添加快速链接到新文档

### 3. 格式建议

**如何组织这些信息**：
<!--
说明希望的格式、结构或呈现方式
-->

**示例**：
- 使用表格展示参数信息
- 添加代码示例和输出
- 使用流程图说明执行流程
- 添加警告/注意提示框

---

## 🎯 目标读者

**谁需要这些文档？**

### 读者类型
- [ ] 🌱 **新手用户**（刚接触项目或Rust）
- [ ] 👨‍💻 **有经验的开发者**（熟悉Rust，但新来本项目）
- [ ] 🤝 **贡献者**（准备贡献代码）
- [ ] 👑 **维护者**（需要深入理解内部设计）

### 技术背景
- **Rust经验**：
  - [ ] 初级（< 6个月）
  - [ ] 中级（6个月 - 2年）
  - [ ] 高级（2年+）

- **领域知识**：
  - [ ] 无需背景知识
  - [ ] 基本的虚拟化概念
  - [ ] 熟悉系统编程
  - [ ] 熟悉编译器技术

---

## 📖 使用场景

**读者在什么情况下会需要查看这些文档？**

**示例**：
```
场景1：初次使用虚拟机
- 目标：运行第一个RISC-V虚拟机
- 需要：快速开始指南、安装说明、基本配置示例

场景2：实现自定义设备
- 目标：为VM添加新的virtio设备
- 需要：设备API文档、架构设计图、代码示例

场景3：性能优化
- 目标：优化JIT编译性能
- 需要：性能调优指南、配置选项说明、性能分析工具文档
```

---

## 📊 文档质量评估

### 当前文档评分

请对当前文档质量进行评分（1-5星）：

- **准确性**：⭐⭐⭐☆☆（3/5）- 内容基本准确但有错误
- **完整性**：⭐⭐☆☆☆（2/5）- 缺少关键信息
- **清晰度**：⭐⭐⭐⭐☆（4/5）- 描述清楚易懂
- **实用性**：⭐⭐☆☆☆（2/5）- 缺少示例
- **时效性**：⭐⭐⭐☆☆（3/5）- 部分内容过时

### 改进优先级

- [ ] 🔴 **高优先级** - 影响大量用户，阻塞核心功能使用
- [ ] 🟡 **中优先级** - 影响部分用户，影响体验但不阻塞使用
- [ ] 🟢 **低优先级** - 小问题，不影响主要使用场景

---

## 🔗 参考资源

### 相关文档

- **项目内文档**：
  - 链接到相关的文档章节
  - 链接到相关的API文档

- **外部参考**：
  - 参考其他项目的好文档：__________
  - 相关的官方文档：__________

### 相关代码

- **代码位置**：
  - 文件路径：__________
  - 函数/模块：__________

- **相关Issue/PR**：
  - 引用相关问题：#123
  - 引用相关PR：#456

### 研究资源

- **参考资料**：
  - 论文或文章：__________
  - 技术标准：__________
  - 官方规范：__________

---

## 🤝 愿意贡献

### 您希望如何帮助？

- [ ] ✍️ **我愿意提交PR修复这个问题**
  - 预计完成时间：__________
  - 需要帮助的方面：__________

- [ ] 👀 **我可以帮助审查文档改进PR**

- [ ] 🧪 **我可以帮助测试文档示例**
  - 可以测试的平台：__________

- [ ] 💡 **我可以提供更多改进建议**

- [ ] 📢 **我可以帮助传播文档**

### 文档贡献指南

如果您愿意贡献，请参考：
- 贡献指南：`CONTRIBUTING.md`
- 文档风格指南：`docs/WRITING_STYLE_GUIDE.md`（如果存在）
- 文档构建：`cargo doc --no-deps --open`

---

## 📸 辅助信息

### 截图或录屏

如果是UI相关文档或需要演示操作：

- **文档当前状态截图**：
  <!--
  ![当前文档](path/to/screenshot.png)
  -->

- **期望改进效果**：
  <!--
  文档应该显示在左侧，代码示例在右侧，类似：
  [示例效果](path/to/example.png)
  -->

### 错误文本和修正

如果是文字错误：

**当前文本**：
```
This function translate virtual address to physical address.
```

**建议修正**：
```
This function translates a virtual address to a physical address.
```

---

## 📝 额外信息

添加任何其他有助于改进文档的信息：

- 是否在特定场景下才会出现？
- 是否影响特定版本的文档？
- 是否有已知的替代方案？
- 最近是否有相关变更？

---

**提交前检查清单**:
- [ ] 已清晰标识文档位置
- [ ] 已详细描述问题或建议
- [ ] 已提供具体的改进内容（如适用）
- [ ] 已说明目标读者和使用场景
- [ ] 已评估改进优先级

感谢帮助改进VM项目文档！🙏

良好的文档是项目成功的关键。每一个文档改进都会帮助更多用户更好地使用这个项目。
