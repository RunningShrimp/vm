## 📋 变更类型

请选择适用的类型（可多选）：

- [ ] 🐛 **Bug修复** (不破坏性变更)
- [ ] ✨ **新功能** (不破坏性变更)
- [ ] 💥 **破坏性变更** (需要更新文档和迁移指南)
- [ ] 📚 **文档更新**
- [ ] ⚡ **性能优化**
- [ ] 🔄 **代码重构**
- [ ] 🧹 **代码清理**
- [ ] ✅ **测试改进**
- [ ] 🔒 **安全修复**
- [ ] 🌐 **国际化**
- [ ] 🎨 **UI/UX改进**

---

## 📝 变更描述

<!--
请清晰、简洁地描述你的变更。一个好的PR描述应该包括：
- **做了什么**：变更的具体内容
- **为什么做**：变更的原因和动机
- **如何实现**：实现的关键思路
-->

### 变更动机

<!--
说明为什么需要这个变更：
- 解决了什么问题？
- 改进了什么功能？
- 优化了什么性能？
-->

### 实现概述

<!--
简要说明实现方案：
- 使用了什么技术或方法？
- 涉及哪些核心模块？
- 有什么设计决策？
-->

### 关键变更

<!--
列出最重要的变更点，让审查者快速了解：
- **核心逻辑变更**: ...
- **API变更**: ...
- **性能改进**: ...
- **bug修复**: ...
-->

---

## 🔗 相关Issue

<!--
引用相关Issue，使用GitHub自动关闭语法：
-->

- Closes #123
- Relates to #456
- Fixes #789
- Refs #101

---

## 📊 变更摘要

<!--
列出主要的文件修改，便于审查者了解改动范围：
-->

### 新增文件
- `vm-core/src/new_module.rs`: 新增XXX功能
- `tests/integration_test.rs`: 新增集成测试

### 修改文件
- `vm-core/src/lib.rs`: 修复YYY问题，添加ZZZ功能
- `vm-engine/src/jit/core.rs`: 优化JIT编译性能
- `vm-mem/src/mmu.rs`: 改进MMU地址转换

### 删除文件
- `vm-core/src/old_module.rs`: 移除废弃的XXX功能

### 重构文件
- `vm-device/src/virtio.rs`: 重构VirtIO设备抽象

---

## 🧪 测试

### 自动化测试

- [ ] ✅ 单元测试通过 (`cargo test --workspace`)
- [ ] ✅ 集成测试通过
- [ ] ✅ 文档测试通过 (`cargo test --doc`)
- [ ] ⚡ 性能测试通过 (如适用)

**测试命令**：
```bash
# 运行所有测试
cargo test --workspace

# 运行特定包的测试
cargo test --package vm-core

# 运行性能基准测试
cargo bench --package vm-engine
```

### 手动测试

- [ ] ✅ 手动测试完成
- [ ] ✅ 在真实场景中验证

**手动测试场景**：
<!--
描述手动测试的场景和步骤：
1. 启动虚拟机：`cargo run --example quick_start`
2. 执行特定操作：...
3. 验证结果：...
-->

### 测试覆盖率

- [ ] ✅ 已添加新测试
- [ ] ✅ 已更新现有测试
- [ ] 📊 测试覆盖率已提升至 ___%

**覆盖率检查**：
```bash
# 生成覆盖率报告
cargo llvm-cov --workspace --html --output-dir coverage
```

---

## 📚 文档

### 代码文档

- [ ] ✅ 公共API已添加文档注释
- [ ] ✅ 复杂逻辑已添加说明注释
- [ ] ✅ 文档注释示例已更新

### 用户文档

- [ ] ✅ README需要更新 (说明更新的部分)
- [ ] ✅ 用户指南需要更新
- [ ] ✅ API文档需要更新
- [ ] ✅ 迁移指南需要更新 (破坏性变更)

**文档位置**：
- README.md: 更新了XXX章节
- docs/USER_GUIDE.md: 添加了YYY说明
- docs/MIGRATION_GUIDE.md: 添加了ZZZ迁移步骤

### 示例代码

- [ ] ✅ 已添加示例代码
- [ ] ✅ 已更新现有示例

**示例文件**：
- `examples/new_feature.rs`: 演示如何使用XXX功能

---

## ✅ 质量检查清单

### 代码规范

- [ ] ✅ 代码格式化 (`cargo fmt`)
- [ ] ✅ Clippy检查通过 (`cargo clippy --workspace -- -D warnings`)
- [ ] ✅ 无新的编译警告
- [ ] ✅ 代码符合项目风格指南

**检查命令**：
```bash
# 格式化代码
cargo fmt

# 运行Clippy
cargo clippy --workspace --all-features -- -D warnings

# 检查格式
cargo fmt -- --check
```

### 构建验证

- [ ] ✅ Debug构建成功
- [ ] ✅ Release构建成功
- [ ] ✅ 所有feature组合可编译

**构建命令**：
```bash
# Debug构建
cargo build --workspace

# Release构建
cargo build --workspace --release

# 测试所有feature组合
./scripts/test_features.sh
```

### 版本管理

- [ ] ✅ Cargo.toml版本已更新 (如适用)
- [ ] ✅ CHANGELOG.md已更新
- [ ] ✅ 依赖版本已正确更新

---

## ⚡ 性能影响

### 性能评估

- [ ] 🚀 性能提升 (说明提升幅度)
- [ ] ➡️ 性能无影响
- [ ] ⚠️ 性能下降 (已说明原因和优化计划)

### 性能基准

<!--
如果是性能相关变更，请提供基准测试数据：
-->

**基准测试结果**：
```
优化前: 1000 ns/iter
优化后: 800 ns/iter
提升: 20%
```

**性能分析**：
- JIT编译速度：提升 ___%
- 内存使用：减少 ___%
- 启动时间：减少 ___%

---

## 💥 破坏性变更

### 变更说明

<!--
如果是破坏性变更，**必须**详细说明：
-->

#### 变更内容
<!--
描述破坏性变更的具体内容：
- API变更：`old_function()` → `new_function()`
- 行为变更：XXX函数现在会抛出异常
- 配置变更：配置项`old_option`已重命名为`new_option`
-->

#### 影响范围
<!--
说明会影响哪些用户和代码：
- 影响使用XXX API的所有用户
- 影响依赖YYY功能的模块
- 需要迁移的代码示例
-->

#### 迁移路径
<!--
提供详细的迁移指南：
-->

**迁移前**：
```rust
// 旧代码
let result = old_api_function();
```

**迁移后**：
```rust
// 新代码
let result = new_api_function()?;
```

**迁移脚本**（如适用）：
```bash
# 自动迁移脚本
./scripts/migrate_to_v2.sh
```

---

## 🎨 设计决策

<!--
如果变更涉及重要的设计决策，请在此说明：
-->

### 考虑的方案

1. **方案A**：... （优点：...，缺点：...）
2. **方案B**：... （优点：...，缺点：...）
3. **方案C**：... （优点：...，缺点：...）

### 选择方案XX的原因

<!--
说明为什么选择当前方案：
- 性能最优
- 代码最简洁
- 可维护性最好
- 向后兼容
-->

### 技术权衡

<!--
说明所做的技术权衡：
- 牺牲了XX以换取YY
- 当前限制了ZZ，未来可能扩展
-->

---

## 📸 截图/录屏

<!--
如果是UI变更或需要演示的功能，请添加：
-->

### 功能演示

**截图**：
<!--
![截图说明](path/to/screenshot.png)
-->

**录屏**：
- [演示视频链接](https://...)

### 性能对比

**性能图表**：
<!--
![性能对比](path/to/performance_chart.png)
-->

---

## 🔍 代码审查要点

<!--
提示审查者重点关注的地方：
-->

### 关键文件

- `vm-core/src/xxx.rs`: 核心逻辑变更，请重点关注
- `vm-engine/src/jit/yyy.rs`: 性能关键路径

### 需要特别审查的内容

- [ ] 算法正确性
- [ ] 并发安全性
- [ ] 错误处理
- [ ] 资源管理
- [ ] 性能影响

### 需要帮助的领域

<!--
如果你对某些方面不确定，可以明确提出：
-->
- XXX模块的实现可能需要优化
- YYY功能的错误处理可能不够完善
- 需要建议ZZZ功能的测试方法

---

## 📝 额外信息

添加任何其他有助于审查的信息：

### 相关讨论

- 链接到相关的Issue讨论
- 链接到RFC或设计文档
- 链接到邮件列表讨论

### 参考资源

- 参考文档：__________
- 参考实现：__________
- 相关PR：__________

### 其他说明

<!--
任何其他有助于理解PR的信息：
- 是否在某些特定条件下才会生效？
- 是否有已知的限制或问题？
- 未来计划如何改进？
-->

---

## 🙏 感谢

感谢你的贡献！🎉

在提交PR前，请确保：
- [ ] ✅ 所有CI检查通过
- [ ] ✅ 至少一位维护者审查通过
- [ ] ✅ 所有讨论已解决
- [ ] ✅ 文档已完善
- [ ] ✅ 测试已充分

我们会尽快审查你的PR。如有任何问题，请随时在评论中提出。

---

**PR审查者指南**：
1. 仔细阅读变更描述和相关Issue
2. 检查代码质量和测试覆盖
3. 验证文档更新是否完整
4. 测试功能是否正常工作
5. 提供建设性的反馈和建议
